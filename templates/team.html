{% extends 'base.html' %}
{% load static %}

{% block title %}Team | Shunya Lab{% endblock %}

{% block content %}

<!-- PAGE HERO -->
<section class="section page-hero">
  <div class="container">
    <h1 class="page-title">Meet Our Team</h1>
    <p class="page-subtitle">The dedicated minds behind Shunya Lab's research and innovation.</p>
  </div>
</section>

<!-- FOUNDER / LEAD INVESTIGATOR -->
{% if directors %}
<section class="section">
  <div class="container">
    <div class="text-center mb-4">
      <h2 class="section-title mb-2">Founder &amp; Lead Investigator</h2>
      <p class="section-lead mb-0">Leadership guiding research vision and strategic direction.</p>
    </div>

    <div class="row justify-content-center">
      {% for member in directors %}
      <div class="col-lg-10">
        <div class="cta-box team-founder">
          <div class="row g-4 align-items-center">
            <div class="col-md-auto text-center">
              {% if member.photo %}
                <img src="{{ member.photo.url }}" alt="{{ member.name }}" class="team-photo-founder">
              {% else %}
                <img src="{% static 'images/default-profile.png' %}" alt="Default Profile" class="team-photo-founder">
              {% endif %}
            </div>

            <div class="col">
              <h3 class="team-name mb-1">{{ member.name }}</h3>
              <div class="team-role mb-3">{{ member.designation }}</div>

              <div class="team-bio">
                {{ member.bio|linebreaksbr }}
              </div>

              <div class="d-flex flex-wrap gap-3 align-items-center mt-4">
                {% if member.profile_link %}
                  <a href="{{ member.profile_link }}" target="_blank" class="btn btn-outline-dark">
                    View Full Profile <i class="fa-solid fa-arrow-up-right-from-square ms-2"></i>
                  </a>
                {% endif %}

                <div class="d-flex gap-2 ms-md-auto">
                  {% if member.linkedin_link %}
                    <a href="{{ member.linkedin_link }}" target="_blank" class="team-social" aria-label="LinkedIn">
                      <i class="fab fa-linkedin-in"></i>
                    </a>
                  {% endif %}
                  {% if member.google_scholar_link %}
                    <a href="{{ member.google_scholar_link }}" target="_blank" class="team-social" aria-label="Google Scholar">
                      <i class="fab fa-google-scholar"></i>
                    </a>
                  {% endif %}
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>

  </div>
</section>
{% endif %}

<!-- RESEARCHERS -->
{% if researchers %}
<section class="section section-soft">
  <div class="container">
    <div class="text-center mb-4">
      <h2 class="section-title mb-2">Researchers &amp; Scholars</h2>
      <p class="section-lead mb-0">A multidisciplinary team working across energy, markets, and sustainable systems.</p>
    </div>

    <div class="row g-3">
      {% for member in researchers %}
      <div class="col-md-6 col-lg-4">
        <div class="team-card h-100">
          <div class="team-card-top text-center">
            {% if member.photo %}
              <img src="{{ member.photo.url }}" alt="{{ member.name }}" class="team-photo-researcher">
            {% else %}
              <img src="{% static 'images/default-profile.png' %}" alt="Default Profile" class="team-photo-researcher">
            {% endif %}

            <h3 class="team-name-sm mt-3 mb-1">{{ member.name }}</h3>
            <div class="team-role-sm">{{ member.designation }}</div>
          </div>

          <div class="team-card-body">
            <p class="team-bio-sm">{{ member.bio|truncatechars:150 }}</p>

            {% if member.research_interests %}
            <div class="team-interests">
              <span class="team-interests-label">Interests</span>
              <div class="team-interests-text">{{ member.research_interests|truncatewords:15 }}</div>
            </div>
            {% endif %}

            <div class="team-card-actions mt-auto d-flex align-items-center gap-2">
              {% if member.linkedin_link %}
                <a href="{{ member.linkedin_link }}" target="_blank" class="team-social" aria-label="LinkedIn">
                  <i class="fab fa-linkedin-in"></i>
                </a>
              {% endif %}

              {% if member.google_scholar_link %}
                <a href="{{ member.google_scholar_link }}" target="_blank" class="team-social" aria-label="Google Scholar">
                  <i class="fab fa-google-scholar"></i>
                </a>
              {% endif %}

              {% if member.profile_link %}
                <a href="{{ member.profile_link }}" target="_blank" class="link-cta ms-auto">
                  Profile <i class="fa-solid fa-arrow-right ms-1"></i>
                </a>
              {% endif %}
            </div>

          </div>
        </div>
      </div>
      {% endfor %}
    </div>

  </div>
</section>
{% endif %}

{% endblock %}